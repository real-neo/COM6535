let post = $('#post_<%= @post_id %>');
let like_icon = post.find("#like_icon");
let dislike_icon = post.find("#dislike_icon");

<%- if @like.valid? %>
  <%- if @liked.nil? %>
    like_icon.css('color', "#000");
    dislike_icon.css('color', "#000");
    $.flashAlert('Your vote has been removed!', 'notice')
  <%- elsif @liked %>
    like_icon.css('color', "#4169e1");
    dislike_icon.css('color', "#000");
    $.flashAlert('Your vote has been submitted!', 'notice')
  <%- else %>
    like_icon.css('color', "#000");
    dislike_icon.css('color', "#ff0003");
    $.flashAlert('Your vote has been submitted!', 'notice')
  <%- end %>
<%- else %>
  $.flashAlert('Illegal vote!', 'alert')
<%- end %>

post.find('#likes_block').html('<%= @like_text %>')